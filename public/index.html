<!DOCTYPE html>
<html lang="en">
<head>

    <title>Car Environment Monitor</title>
    <script src="javascripts/jquery-2.1.4.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="javascripts/Chart.min.js" type="text/javascript" charset="utf-8"></script>
    <script src="javascripts/index.js" type="text/javascript" charset="utf-8"></script>
    <link href="stylesheets/style.css" rel="stylesheet" />

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  <style>
  body {
      font: 20px Montserrat, sans-serif;
      line-height: 1.8;
      color: #ffedcc;
  }
  p {font-size: 16px;}
  .margin {margin-bottom: 45px;}
  .bg-1 { 
      background-color: #ffedcc; 
      color: #ffffff;
  }
  .bg-2 { 
      background-color: #89ffb4; 
      color: #ffffff;
  }

    .bg-4 { 
      background-color: #474446; 
      color: #ffffff;
  }

  .container-fluid {
      padding-top: 70px;
      padding-bottom: 70px;
  }
  .navbar {
      padding-top: 15px;
      padding-bottom: 15px;
      border: 0;
      border-radius: 0;
      margin-bottom: 0;
      font-size: 12px;
      letter-spacing: 5px;

  }
  .navbar-nav  li a:hover {
      color: #1abc9c !important;
  }
  </style>

</head>

<body>

<!-- Navbar -->
<nav class="navbar navbar-default">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>                        
      </button>
      <a class="navbar-brand" >Car Environment Monitor</a>
    </div>

  </div>
</nav>

<!-- First Container -->
<div class="container-fluid bg-1 text-center">
  <canvas id="myChart" width="400" height="150"></canvas>
  
</div>

<!-- Second Container -->
<div class="container-fluid bg-2 text-center">
  <h3 >Car Environment Condition</h3>
  <p id="demo"></p>

<script>
var ws = new WebSocket('wss://' + location.host);
  ws.onopen = function () {
    console.log('Successfully connect WebSocket');
  }
  ws.onmessage = function (message) {
    console.log('receive message' + message.data);
    
      var obj = JSON.parse(message.data);
      if(!obj.time || !obj.temperature) {
        return;
      }
      var tep = obj.temperature;
      var air = obj.airquality;
if (tep >15 && tep < 30 && air<70){
document.getElementById("demo").innerHTML = "The condition is just right";}

else if (air > 60){
document.getElementById("demo").innerHTML = "The air is not fresh! Open the Window!!";
}
else if (tep <15){
	document.getElementById("demo").innerHTML = "It's too cold. Get the heat!!";
}
}

</script>
</div>


<!-- Footer -->
<footer class="container-fluid bg-4 text-center">
  <p>Made By TEAM 34</p> 
</footer>
    
</body>



</html>